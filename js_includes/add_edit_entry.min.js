$(document).ready(function(){$("#brewInfo").keyup(function(){var cs=$(this).val().length;$('#countInfo').text(cs)});$("#brewInfo").keydown(function(){var cs=$(this).val().length;$('#countInfo').text(cs)});$("#brewInfoOptional").keyup(function(){var cs=$(this).val().length;$('#countInfoOptional').text(cs)});$("#brewInfoOptional").keydown(function(){var cs=$(this).val().length;$('#countInfoOptional').text(cs)});$("#brewComments").keyup(function(){var cs=$(this).val().length;$('#countComments').text(cs)});$("#brewComments").keydown(function(){var cs=$(this).val().length;$('#countComments').text(cs)});$("#possible-allergens").hide();$("input[name$='possible-allergens']").click(function(){if($(this).val()=="1"){$("#possible-allergens").show("fast");$("input[name='brewPossAllergens']").prop("required",true)}else{$("#possible-allergens").hide("fast");$("input[name='brewPossAllergens']").prop("required",false);$("input[name='brewPossAllergens']").val("")}});reset_element_states(edit_style);if(edit_style!="default"){var special_ing=$.inArray(edit_style,req_special_ing_styles);var strength=$.inArray(edit_style,req_strength_styles);var sweetness=$.inArray(edit_style,req_sweetness_styles);var carbonation=$.inArray(edit_style,req_carb_styles);var optional=$.inArray(edit_style,optional_info_styles);if(possible_allergens!==undefined&&possible_allergens!==null){$("#possible-allergens").show("fast");$("#possAllergens_0").prop("checked",true)}else{$("#possible-allergens").hide("fast");$("#possAllergens_0").prop("checked",false);$("#possAllergens_1").prop("checked",true)}if(special_ing>-1){disp_special_ing(edit_style,style_set);disp_req_modal(edit_style,style_set)}if(strength>-1){disp_strength(edit_style,style_set);disp_req_modal(edit_style,style_set)}if(carbonation>-1){disp_carbonation(edit_style,style_set);disp_req_modal(edit_style,style_set)}if(sweetness>-1){disp_sweetness(edit_style,style_set);disp_req_modal(edit_style,style_set)}if(optional>-1){disp_optional(edit_style,style_set);disp_req_modal(edit_style,style_set)}require_visible()}function disp_special_ing(style,style_set){$("#req-special").show("fast");if((style_set=="BJCP2015")||(style_set=="BJCP2021")){if((style=="7-C")||(style=="9-A")||(style=="10-C")){$("#brewInfo").val("");$("#darkLightColor").show("fast");$("#sweetnessLambic").hide("fast");$("#carbLambic").hide("fast");$("#special").hide("fast");$("#strengthIPA").hide("fast");$("#strengthSaison").hide("fast");$("#BDGColor").hide("fast")}else if(style=="21-B"){$("#strengthIPA").show("fast");$("#special").show("fast");$("#sweetnessLambic").hide("fast");$("#carbLambic").hide("fast");$("#darkLightColor").hide("fast");$("#strengthSaison").hide("fast");$("#BDGColor").hide("fast")}else if((style=="21-B1")||(style=="21-B2")||(style=="21-B3")||(style=="21-B4")||(style=="21-B5")||(style=="21-B6")||(style=="21-B7")){$("#brewInfo").val("");$("#strengthIPA").show("fast");$("#special").hide("fast");$("#sweetnessLambic").hide("fast");$("#carbLambic").hide("fast");$("#darkLightColor").hide("fast");$("#strengthSaison").hide("fast");$("#BDGColor").hide("fast")}else if(style=="23-F"){$("#sweetnessLambic").show("fast");$("#carbLambic").show("fast");$("#special").show("fast");$("#darkLightColor").hide("fast");$("#strengthIPA").hide("fast");$("#strengthSaison").hide("fast");$("#BDGColor").hide("fast")}else if(style=="24-C"){$("#brewInfo").val("");$("#BDGColor").show("fast");$("#sweetnessLambic").hide("fast");$("#carbLambic").hide("fast");$("#special").hide("fast");$("#darkLightColor").hide("fast");$("#strengthIPA").hide("fast");$("#strengthSaison").hide("fast")}else if(style=="25-B"){$("#brewInfo").val("");$("#darkLightColor").show("fast");$("#strengthSaison").show("fast");$("#sweetnessLambic").hide("fast");$("#carbLambic").hide("fast");$("#special").hide("fast");$("#strengthIPA").hide("fast");$("#BDGColor").hide("fast")}else{$("#special").show("fast");$("#sweetnessLambic").hide("fast");$("#carbLambic").hide("fast");$("#darkLightColor").hide("fast");$("#strengthIPA").hide("fast");$("#strengthSaison").hide("fast");$("#BDGColor").hide("fast")}}else{$("#special").show("fast")}}function disp_strength(style,style_set){$("#strength").show("fast");$("#req-strength").show("fast")}function disp_sweetness(style,style_set){if(style.startsWith("C")){$("#sweetness-cider").show("fast")}else{$("#sweetness-mead").show("fast")}$("#req-sweetness").show("fast")}function disp_carbonation(style,style_set){$("#carbonation").show("fast");$("#req-carbonation").show("fast")}function disp_optional(style,style_set){$("#optional").show("fast")}function reset_element_states(edit_style){$("#BDGColor").removeClass("has-error");$("#strengthIPA").removeClass("has-error");$("#sweetnessLambic").removeClass("has-error");$("#carbLambic").removeClass("has-error");$("#darkLightColor").removeClass("has-error");$("#strengthSaison").removeClass("has-error");$("#special").removeClass("has-error");$("#fg-carbonation").removeClass("has-error");$("#fg-sweetness").removeClass("has-error");$("#fg-strength").removeClass("has-error");$("#possible-allergens").removeClass("has-error");$("#brewInfo").prop("required",false);$("#brewInfoOptional").prop("required",false);$("input[name='strengthIPA']").prop("required",false);$("input[name='sweetnessLambic']").prop("required",false);$("input[name='carbLambic']").prop("required",false);$("input[name='darkLightColor']").prop("required",false);$("input[name='strengthSaison']").prop("required",false);$("input[name='BDGColor']").prop("required",false);$("#sweetnessLambic").hide("fast");$("#carbLambic").hide("fast");$("#special").hide("fast");$("#optional").hide("fast");$("#darkLightColor").hide("fast");$("#strengthIPA").hide("fast");$("#strengthSaison").hide("fast");$("#BDGColor").hide("fast");$("#carbonation").hide("fast");$("#sweetness-mead").hide("fast");$("#sweetness-cider").hide("fast");$("#strength").hide("fast");$("#req-special").hide("fast");$("#req-carbonation").hide("fast");$("#req-sweetness").hide("fast");$("#req-strength").hide("fast");$("#specialInfo").hide("fast");$("#possible-allergens").hide("fast");if(edit_style=="default"){if(user_level>1){$("#brewInfo").val("");$("#brewInfoOptional").val("");$("#brewComments").val("");$("input[name='brewPossAllergens']").prop("required",false);$("input[name='brewPossAllergens']").val("");$("input[name='strengthIPA']").removeAttr("checked");$("input[name='sweetnessLambic']").removeAttr("checked");$("input[name='carbLambic']").removeAttr("checked");$("input[name='darkLightColor']").removeAttr("checked");$("input[name='strengthSaison']").removeAttr("checked");$("input[name='BDGColor']").removeAttr("checked");$("input[name='brewMead1']").removeAttr("checked");$("input[name='brewMead2-mead']").removeAttr("checked");$("input[name='brewMead2-cider']").removeAttr("checked");$("input[name='brewMead3']").removeAttr("checked");$("input[name='possible-allergens']").removeAttr("checked");$("#possAllergens_1").prop("checked",true)}}}function require_visible(){if($("#special").is(":visible")){$("#brewInfo").prop("required",true)}if($("#strengthIPA").is(":visible")){$("input[name='strengthIPA']").prop("required",true)}if($("#sweetnessLambic").is(":visible")){$("input[name='sweetnessLambic']").prop("required",true)}if($("#carbLambic").is(":visible")){$("input[name='carbLambic']").prop("required",true)}if($("#darkLightColor").is(":visible")){$("input[name='darkLightColor']").prop("required",true)}if($("#strengthSaison").is(":visible")){$("input[name='strengthSaison']").prop("required",true)}if($("#BDGColor").is(":visible")){$("input[name='BDGColor']").prop("required",true)}if($("#strength").is(":visible")){$("input[name='brewMead3']").prop("required",true)}if($("#carbonation").is(":visible")){$("input[name='brewMead1']").prop("required",true)}if($("#sweetness-mead").is(":visible")){$("input[name='brewMead2-mead']").prop("required",true)}if($("#sweetness-cider").is(":visible")){$("input[name='brewMead2-cider']").prop("required",true)}}function disp_req_modal(style,style_set){let style_exists=style in req_special_ing_style_info;if(style_exists){var special_modal_id="#"+style+"-modal";var special_modal_link="<a href='#' title='Select for specifics for this style.' data-toggle='modal' data-target='"+special_modal_id+"'><span title='Select for specifics for this style.' data-toggle='tooltip' data-placement='top'>"+label_this_style+"</span></a>";var special_info_text=req_special_ing_style_info[style];$("#specialInfo").show("fast");$("#specialInfoName").html(special_modal_link);$("#specialInfoText").html(special_info_text)}}$("#type").change(function(){var style=$('#type').val();var special_ing=$.inArray(style,req_special_ing_styles);var strength=$.inArray(style,req_strength_styles);var sweetness=$.inArray(style,req_sweetness_styles);var carbonation=$.inArray(style,req_carb_styles);var optional=$.inArray(style,optional_info_styles);reset_element_states("default");if(special_ing>-1){disp_special_ing(style,style_set);disp_req_modal(style,style_set)}if(strength>-1){disp_strength(style,style_set);disp_req_modal(style,style_set)}if(carbonation>-1){disp_carbonation(style,style_set);disp_req_modal(style,style_set)}if(sweetness>-1){disp_sweetness(style,style_set);disp_req_modal(style,style_set)}if(optional>-1){disp_optional(style,style_set)}require_visible()})});