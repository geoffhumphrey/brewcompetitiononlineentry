$(document).ready(function () {

    $("#brewerClubsOther").hide();
    $("#ahaProAmText").hide();
    $("#us-state").hide();
    $("#aus-state").hide();
    $("#ca-state").hide();
    $("#proAm").hide();
    $("#judge-waiver").hide();
    $("#bjcp-id").hide();
    $("#brewerJudgeFields").hide();
    $("#brewerStewardFields").hide();
    $("#brewerStaffFields").hide();
    $("#participant-orgs").hide();
    $("#security-question-change").hide();

    if (action == "edit") {
    
        if (brewer_country == "United States") {
            $("#proAm").show();
            $("#ahaProAmText").show();
            $("#us-state").show();
            $("#aus-state").hide();
            $("#ca-state").hide();
            $("#non-us-state").hide();
            $("#brewerStateUS").prop("required", true);
            $("#brewerStateNon").prop("required", false);
            $("#brewerStateAUS").prop("required", false); 
            $("#brewerStateCA").prop("required", false);
        }
        
        else if (brewer_country == "Australia") {
            $("#proAm").hide();
            $("#ahaProAmText").hide();
            $("#aus-state").show();
            $("#us-state").hide();
            $("#ca-state").hide();
            $("#non-us-state").hide();
            $("#brewerStateAUS").prop("required", true);
            $("#brewerStateNon").prop("required", false);
            $("#brewerStateUS").prop("required", false); 
            $("#brewerStateCA").prop("required", false);
        }
        
        else if (brewer_country == "Canada") {
            $("#proAm").hide();
            $("#ahaProAmText").hide();
            $("#aus-state").hide();
            $("#us-state").hide();
            $("#ca-state").show();
            $("#non-us-state").hide();
            $("#brewerStateCA").prop("required", true);
            $("#brewerStateNon").prop("required", false);
            $("#brewerStateUS").prop("required", false); 
            $("#brewerStateAUS").prop("required", false); 
        }

        else {
            $("#proAm").hide();
            $("#ahaProAmText").hide();
            $("#aus-state").hide();
            $("#us-state").hide();
            $("#ca-state").hide();
            $("#non-us-state").show();
            $("#brewerStateNon").prop("required", true);
            $("#brewerStateUS").prop("required", false); 
            $("#brewerStateAUS").prop("required", false); 
            $("#brewerStateCA").prop("required", false);
        }

    }
    
    $("#brewerCountry").change(function () {
        $("#brewerStateNon").val("");
        $("#brewerStateUS").val("");
        $("#brewerStateAUS").val("");
        $("#brewerStateCA").val("");
        $("#brewerStateUS option:selected").prop("selected", false);
        $("#brewerStateAUS option:selected").prop("selected", false);
        $("#brewerStateCA option:selected").prop("selected", false);
        $("#non-us-state").hide();
        $("#us-state").hide();
        $("#aus-state").hide();
        $("#ca-state").hide();
        $("#proAm").hide();
        $("#ahaProAmText").hide(); 
        if ($("#brewerCountry").val() == "United States") {
            $("#proAm").fadeIn("slow");
            $("#ahaProAmText").fadeIn("slow");
            $("#us-state").show();
            $("#brewerStateUS").prop("required", true); 
            $("#brewerStateNon").prop("required", false);
            $("#brewerStateAUS").prop("required", false); 
            $("#brewerStateCA").prop("required", false);
        } else if ($("#brewerCountry").val() == "Australia") {
            $("#aus-state").show();
            $("#brewerStateAUS").prop("required", true);
            $("#brewerStateNon").prop("required", false);
            $("#brewerStateUS").prop("required", false); 
            $("#brewerStateCA").prop("required", false);
        } else if ($("#brewerCountry").val() == "Canada") {
            $("#ca-state").show();
            $("#brewerStateCA").prop("required", true);
            $("#brewerStateNon").prop("required", false);
            $("#brewerStateUS").prop("required", false); 
            $("#brewerStateAUS").prop("required", false);
        } else {
            $("#non-us-state").show();
            $("#brewerProAm_0").prop("checked", true);
            $("#brewerProAm_1").prop("checked", false);
            $("#brewerStateNon").prop("required", true);
            $("#brewerStateUS").prop("required", false); 
            $("#brewerStateAUS").prop("required", false); 
            $("#brewerStateCA").prop("required", false);
        }
    });
    
    if ((action == "edit") && (club_other)) {
        $("#brewerClubsOther").fadeIn("slow");
        $("#clubOther").fadeIn("slow");
    }
    
    $("#brewerClubs").change(function () {
        $("#brewerClubsOther").hide();
        $("#clubOther").hide();
        $("#clubOther-warning").hide();
        if ($("#brewerClubs").val() == "Other") {
            $("#brewerClubsOther").fadeIn("slow");
            $("#clubOther").fadeIn("slow");
        }
    });

    if ((action == "edit") && ((brewer_judge == "Y") || (brewer_steward == "Y"))) {
        $("#participant-orgs").show();
    }
    
    if ((action == "edit") && (brewer_judge == "Y")) {
        $("#brewerJudgeFields").show();
        $("#judge-steward-notes").show();
        $("#judge-waiver").show();
        $("#bjcp-id").show();
    }

    else {
        $("#brewerJudgeFields").hide();
        $("#judge-steward-notes").hide();
        $("#judge-waiver").hide();
        $("#bjcp-id").hide()
    }
    
    if ((action == "edit") && (brewer_steward == "Y")) {
        $("#brewerStewardFields").show();
        $("#judge-steward-notes").show();
        $("#judge-waiver").show();
        $("#bjcp-id").show()
    }
    
    else {
        $("#brewerStewardFields").hide();
        $("#judge-steward-notes").hide();
        if (brewer_judge == "N") {
            $("#judge-waiver").hide();
            $("#bjcp-id").hide();
        }
    }

    if ((action == "edit") && (brewer_staff == "Y")) {
        $("#brewerStaffFields").show();
        $("#judge-steward-notes").show();
    }

    $("#brewery-prod-label-icon").hide();

    $('input[type="radio"]').click(function() {

        if ($(this).attr('id') == 'brewerBreweryProd_0') {
            if ((action == "add") || (section == "register") || (!brewer_brewery_prod)) $("#brewery-prod-label-icon").show();
            if ((action == "add") || (section == "register") || (!brewer_brewery_prod)) $("#brewery-prod-label").addClass("text-warning");
            $("input[name='brewerBreweryProdMeas']").prop("required", true);       
        }

        if ($(this).attr('id') == 'brewerBreweryProd_1') {
            if ((action == "add") || (section == "register") || (!brewer_brewery_prod)) $("#brewery-prod-label-icon").show();
            if ((action == "add") || (section == "register") || (!brewer_brewery_prod)) $("#brewery-prod-label").addClass("text-warning");
            $("input[name='brewerBreweryProdMeas']").prop("required", true);       
        }

        if ($(this).attr('id') == 'brewerBreweryProd_2') {
            if ((action == "add") || (section == "register") || (!brewer_brewery_prod)) $("#brewery-prod-label-icon").show();
            if ((action == "add") || (section == "register") || (!brewer_brewery_prod)) $("#brewery-prod-label").addClass("text-warning");
            $("input[name='brewerBreweryProdMeas']").prop("required", true);       
        }

        if ($(this).attr('id') == 'brewerBreweryProd_3') {
            if ((action == "add") || (section == "register") || (!brewer_brewery_prod)) $("#brewery-prod-label-icon").show();
            if ((action == "add") || (section == "register") || (!brewer_brewery_prod)) $("#brewery-prod-label").addClass("text-warning");
            $("input[name='brewerBreweryProdMeas']").prop("required", true);       
        }

        if ($(this).attr('id') == 'brewerBreweryProd_4') {
            if ((action == "add") || (section == "register") || (!brewer_brewery_prod)) $("#brewery-prod-label-icon").show();
            if ((action == "add") || (section == "register") || (!brewer_brewery_prod)) $("#brewery-prod-label").addClass("text-warning");
            $("input[name='brewerBreweryProdMeas']").prop("required", true);       
        }

        if ($(this).attr('id') == 'brewerBreweryProdMeas_0') {
            if ((action == "add") || (section == "register") || (!brewer_brewery_prod)) $("#brewery-prod-label-icon").show();
            if ((action == "add") || (section == "register") || (!brewer_brewery_prod)) $("#brewery-prod-label").addClass("text-warning");
            $("input[name='brewerBreweryProd']").prop("required", true);       
        }

        if ($(this).attr('id') == 'brewerBreweryProdMeas_1') {
            if ((action == "add") || (section == "register") || (!brewer_brewery_prod)) $("#brewery-prod-label-icon").show();
            if ((action == "add") || (section == "register") || (!brewer_brewery_prod)) $("#brewery-prod-label").addClass("text-warning");
            $("input[name='brewerBreweryProd']").prop("required", true);       
        }
        
        if ($(this).attr('id') == 'brewerSteward_0') {
            $("#brewerStewardFields").fadeIn("slow");
            $("#participant-orgs").fadeIn("slow");
            $("#judge-steward-notes").fadeIn("slow");
            $("#judge-waiver").fadeIn("slow");
            $("#bjcp-id").fadeIn("slow");
        }

        if ($(this).attr('id') == 'brewerJudge_0') {
            $("#brewerJudgeFields").fadeIn("slow");
            $("#participant-orgs").fadeIn("slow");
            $("#judge-steward-notes").fadeIn("slow");
            $("#judge-waiver").fadeIn("slow");
            $("#bjcp-id").fadeIn("slow");
        }

        if ($(this).attr('id') == 'brewerSteward_1') {
            $("#brewerStewardFields").fadeOut();
            if ($('#brewerSteward_1').prop('checked')) {
                $("#judge-waiver").fadeOut();
                $("#bjcp-id").fadeOut();
            }
            if (($('#brewerStaff_1').prop('checked')) && ($('#brewerJudge_1').prop('checked'))) {
                $("#judge-steward-notes").fadeOut()
            }
            if (($('#brewerSteward_1').prop('checked')) && ($('#brewerJudge_1').prop('checked'))) {
                $("#participant-orgs").fadeOut();
            }
            if ($('#brewerJudge_0').prop('checked')) {
                $("#participant-orgs").show();
            }
        }
        
        if ($(this).attr('id') == 'brewerJudge_1') {
            $("#brewerJudgeFields").fadeOut();
            if ($('#brewerJudge_1').prop('checked')) {
                $("#judge-waiver").fadeOut();
                $("#bjcp-id").fadeOut();
            }
            if (($('#brewerStaff_1').prop('checked')) && ($('#brewerSteward_1').prop('checked'))) {
                $("#judge-steward-notes").fadeOut()
            }
            if (($('#brewerSteward_1').prop('checked')) && ($('#brewerJudge_1').prop('checked'))) {
                $("#participant-orgs").fadeOut();
            }
            if ($('#brewerSteward_0').prop('checked')) {
                $("#participant-orgs").show();
            }
        }

        if ($(this).attr('id') == 'brewerStaff_0') {
            $("#brewerStaffFields").fadeIn("slow");
            $("#judge-steward-notes").fadeIn("slow");
            $("#staff-help").fadeIn("slow")
        }

        if ($(this).attr('id') == 'brewerStaff_1') {
            $("#brewerStaffFields").fadeOut();
            if (($('#brewerJudge_1').prop('checked')) && ($('#brewerSteward_1').prop('checked'))) {
                $("#judge-steward-notes").fadeOut();
                $("#staff-help").fadeOut()
            }
        }

        if ($(this).attr('id') == 'change-security-0') {
            $("#security-question-change").fadeOut();
            $("input[name='userQuestionAnswer']").prop("required", false);
            $("#userQuestionAnswer").val(user_question_answer)
        }

        if ($(this).attr('id') == 'change-security-1') {
            $("#security-question-change").fadeIn("slow");
            $("input[name='userQuestionAnswer']").prop("required", true);
            $("#userQuestionAnswer").val('')
        }

    });

});